# the file holds the paths to default files that will be loaded or saved
logs:
    name: "logs"
    type: "dir"
    doc: "default folder for logs"
data:
    visual_genome:
        pics:
            name: "../Pics"
            type: "dir"
            doc: "path to visual genome pics"

        hierarchy_mapping_objects:
            name: "Data/VisualGenome/hierarchy_mapping_objects.p"
            type: "pickle"
            doc: "dictionary mapping supported object labels to object ids"
        hierarchy_mapping_predicates:
            name: "Data/VisualGenome/hierarchy_mapping_predicates.p"
            type: "pickle"
            doc: "dictionary mapping supported object labels to predicate ids"

        # Don't know what is it..1000 entities/50000 entities?
        filtered_data:
            name: "Data/VisualGenome/filtered_data.p"
            type: "pickle"
            doc:  "visual genome data filtered according to the most popular objects and predicates and includes negative predicates 1X3"

        # Load pre-processing data mapping
        object_alias:
            name: "../Data/VisualGenome/mini/object_alias.txt"
            type: "text"
            doc:  "objects mapping between old label to new label"
        object_list:
            name: "../Data/VisualGenome/mini/object_list.txt"
            type: "text"
            doc:  "150 objects labels"
        predicate_alias:
            name: "../Data/VisualGenome/mini/predicate_alias.txt"
            type: "text"
            doc:  "predicates mapping between old label to new label"
        predicate_list:
            name: "../Data/VisualGenome/mini/predicate_list.txt"
            type: "text"
            doc:  "50 predicates labels"

        # Entities - before pre-processing
        mini_entities:
            name: "Data/VisualGenome/mini_entities.p"
            type: "pickle"
            doc:  "raw visual genome data (ONLY 1000 entities)"
        full_entities:
            name: "Data/VisualGenome/final_entities.p"
            type: "pickle"
            doc:  "raw visual genome data (108000 entities)"

        # The Data after pre-processing by entities
        mini_filtered_data:
            name: "Data/VisualGenome/mini_filtered_data.p"
            type: "pickle"
            doc:  "visual genome data (ONLY 1000 entities) filtered according to the most popular objects and predicates and includes negative predicates 1X3"
        full_filtered_data:
            name: "Data/VisualGenome/full_filtered_data.p"
            type: "pickle"
            doc:  "visual genome data (108000 entities) filtered according to the most popular objects and predicates and includes negative predicates 1X3"

        # Relations (for TrainPredicateCNN)
        mini_relations:
            name: "Data/VisualGenome/mini_visual_filtered_relations.p"
            type: "pickle"
            doc:  "Relations (ONLY FROM 500 ENTITIES) includes positive and negative predicates 1X3"
        full_relations:
            name: "Data/VisualGenome/full_visual_filtered_relations.p"
            type: "pickle"
            doc:  "Relations (ONLY FROM 54000 ENTITIES) includes positive and negative predicates 1X3"

        # Detections (for TrainPredicateCNN)
        mini_detections:
            name: "Data/VisualGenome/mini_visual_filtered_detections.p"
            type: "pickle"
            doc:  "Detections (ONLY FROM 500 ENTITIES) includes positive and negative predicates 1X3"
        full_detections:
            name: "Data/VisualGenome/full_visual_filtered_detections.p"
            type: "pickle"
            doc:  "Detections (ONLY FROM 54000 ENTITIES) includes positive and negative predicates 1X3"

        # Objects (for TrainCNN)
        mini_objects:
            name: "Data/VisualGenome/mini_visual_filtered_objects.p"
            type: "pickle"
            doc:  "Objects (ONLY FROM 500 ENTITIES) only positive"
        full_objects:
            name: "Data/VisualGenome/full_visual_filtered_objects.p"
            type: "pickle"
            doc:  "Objects (ONLY FROM 54000 ENTITIES) only positive"

        # Objects with Probabilities (for PredictVisualModel)
        mini_objects_with_probs:
            name: "Data/VisualGenome/mini_objects_with_probs.p"
            type: "pickle"
            doc:  "Objects (ONLY FROM 500 ENTITIES) with Probabilities includes positive and negative predicates 1X3"
        full_objects_with_probs:
            name: "Data/VisualGenome/full_objects_with_probs.p"
            type: "pickle"
            doc:  "Objects (ONLY FROM 54000 ENTITIES) with Probabilities includes positive and negative predicates 1X3"

        # Detections with Probabilities and Predicate Features (for PredictVisualModel)
        mini_detections_with_probs:
            name: "Data/VisualGenome/mini_detections_with_probs.p"
            type: "pickle"
            doc:  "Detections (ONLY FROM 1000 ENTITIES) with Probabilities and predicate features includes positive and negative predicates 1X3"
        full_detections_with_probs:
            name: "Data/VisualGenome/full_detections_with_probs.p"
            type: "pickle"
            doc:  "Detections (ONLY FROM 108000 ENTITIES) with Probabilities and predicate features includes positive and negative predicates 1X3"

        detections_v2:
          name: "FeaturesExtraction/PredicatedFeatures/Sun_Jul_30_22:53:54_2017/predicated_entities.p"
          type: "pickle"
          doc:  "1000 entities which included matrix style data of predicates and objects"

features_extraction:
    visual:
        mini_detections_with_probs_and_features:
            name: "FeaturesExtraction/PredicatedFeatures/"
            type: "dir"
            doc: "path to new entities which contains also objects probabilities and features and predicates probabilities and features for module"
            versions:
                1:
                    date: "xx:xx:xx"
                    name: "FeaturesExtraction/PredicatedFeatures/predicated_entities.p"
                    doc: ""

        full_detections_with_probs:
            name: "Data/VisualGenome/full_detections_with_probs.p"
            type: "pickle"
            doc:  "Detections (ONLY FROM 108000 ENTITIES) with Probabilities and predicate features includes positive and negative predicates 1X3"

    language:


sg_module:
    train:
      tf_logs:
        name: "module/tf_logs"
        type: "dir"
        doc: "holds tensor flow log"
      saver:
        name: "module/saver"
        type: "dir"
        doc: "stores module weights"
      params:
          name: "module/params.yaml"
          type: "yaml"
          doc: "train parameters"
    eval:

scene_graph_base_module:
    visual_module:
        detections:
            name: "SceneGraphBaseModule/VisualModule/detections.p"
            type: "pickle"
            doc: "detections of mini data with neg"

        object_cnn:
            name: "FeaturesExtraction/ObjectsCNN/Thu_Jul_13_13:37:54_2017/model_vg_resnet50.hdf5"
            type: "dir"
            doc: "path to object cnn"
            versions:
                1:
                    date: "xx:xx:xx"
                    name: "FeaturesExtraction/ObjectCNN/Fri_Jun__2_19:16:26_2017/model_vg_resnet50.hdf5"
                    doc: "trained 650000 positives without negative examples"

        predicate_cnn:
            name: "FeaturesExtraction/PredicatesCNN/Fri_Jun__2_20:00:24_2017/model_vg_resnet50.hdf5"
            type: "dir"
            doc: "path to predicate cnn. A network which trained on the best 50 most probable predicats in the data (without neg)"

        image_net_tf:
            name: "Data/VisualGenome/resnet50_weights_tf_dim_ordering_tf_kernels_notop.h5"
            type: "dir"
            doc: "path to predicate cnn"

        image_net_th:
            name: "Data/VisualGenome/resnet50_weights_th_dim_ordering_th_kernels_notop.h5"
            type: "dir"
            doc: "path to predicate cnn"

    train:
        params:
            name: "scene_graph_base_module/train/params.yaml"
            type: "yaml"
            doc: "train parameters"
        final_filtered_data:
            name: "scene_graph_base_module/train/final_filtered_data.p"
            type: "pickle"
            doc:  "on top of filtered data - filter urls and negative predicates to be 1x1 and convert to Data class"
        saved_params:
            name: "scene_graph_base_module/train/saved_params"
            type: "dir"
            doc: "dir storing saved params per set of hyper paramters"
    eval:
        final_eval_filtered_data:
            name: "scene_graph_base_module/eval/eval_module_data.p"
            type: "pickle"
            nof_objects: 3
            doc:  "on top of filtered data - filter urls"
            versions:
                1:
                  name: "scene_graph_base_module/eval/eval_module_data_pos.p"
                  doc: "with positive examples only"

        module:
            name: "scene_graph_base_module/train/SavedParams/best_params.npy"
            type: "pickle"
            doc:  "module weights to evaluate"
        stat:
            name: "scene_graph_base_module/eval/detections_stat.p"
            type: "pickle"
            doc: "store detections stat tuple of (entity detectionsStat score) per image"

word_embedding:
    glove:
        original300:
            name: "WordEmbedding/glove/glove.6B.300d.txt"
            type: "text"
            doc: "data from glove project storing word to vec info"
        original50:
            name: "WordEmbedding/glove/glove.6B.50d.txt"
            type: "text"
            doc: "data from glove project storing word to vec info"
        embed300:
            name: "WordEmbedding/glove/glove300.p"
            type: "pickle"
            nof_objects: 3
            doc: "storing 1. matrix converting from word index to vector; 2. vocabulary; 3. word to index dictionary"
        embed50:
            name: "WordEmbedding/glove/glove50.p"
            type: "pickle"
            nof_objects: 3
            doc: "storing 1. matrix converting from word index to vector; 2. vocabulary; 3. word to index dictionary"
